use master;
go
drop database if exists catan;
go
create database catan collate Croatian_CI_AS;
go
use catan;

create  table turniri(
sifra int not null primary key identity(1,1),
ime varchar(50),
datumpocetka datetime,
datumzavrsetka datetime
);

create table igre(
sifra int not null primary key identity(1,1),
datum datetime,
turnir int not null references turniri(sifra)
);

create table igraci(
sifra int not null primary key identity(1,1),
ime varchar(50) not null,
brojodigranih int, --mogu se izvesti iz clanova
brojpobjeda int
);

create table clanovi(
igra int not null references igre(sifra),
igrac int not null references igraci(sifra),
brojbodova int,
pobjeda bit not null default 0,
duzinaceste int,
vojska int,
karterazvoja int,
naselja int,
gradovi int
);

create table rekordi(
sifra int not null primary key identity(1,1),
naziv varchar(100),
igrac int references igraci(sifra)
);

insert into turniri(ime, datumpocetka, datumzavrsetka)
values ('Catan 2024','2024-01-01','2024-12-31');

insert into igre(datum,turnir) values
('2024-01-02', 1),('2024-01-02', 1),('2024-01-05', 1),('2024-01-05', 1),('2024-01-05', 1),
('2024-01-08', 1),('2024-01-16', 1),('2024-01-20', 1),('2024-01-20', 1),('2024-01-23', 1),
('2024-01-23', 1),('2024-01-27', 1),('2024-01-27', 1),('2024-01-27', 1),('2024-01-30', 1),
('2024-02-05', 1),('2024-02-15', 1),('2024-02-15', 1),('2024-02-25', 1),('2024-03-03', 1),
('2024-03-10', 1),('2024-03-10', 1),('2024-03-17', 1),('2024-03-24', 1),('2024-04-01', 1),
('2024-04-01', 1),('2024-04-05', 1),('2024-04-05', 1),('2024-04-05', 1),('2024-04-09', 1),
('2024-04-09', 1),('2024-04-13', 1),('2024-04-13', 1),('2024-04-13', 1),('2024-04-17', 1),
('2024-04-21', 1),('2024-04-21', 1),('2024-04-25', 1),('2024-04-25', 1),('2024-04-29', 1),
('2024-04-29', 1),('2024-04-29', 1),('2024-05-07', 1),('2024-05-14', 1),('2024-05-21', 1),
('2024-05-28', 1),('2024-05-28', 1),('2024-06-04', 1),('2024-06-11', 1),('2024-06-11', 1),
('2024-06-18', 1),('2024-06-25', 1),('2024-07-03', 1),('2024-07-03', 1),('2024-07-07', 1),
('2024-07-07', 1),('2024-07-07', 1),('2024-07-11', 1),('2024-07-11', 1),('2024-07-15', 1),
('2024-07-15', 1),('2024-07-15', 1),('2024-07-19', 1),('2024-07-23', 1),('2024-07-23', 1),
('2024-07-27', 1),('2024-07-27', 1),('2024-08-06', 1),('2024-08-13', 1),('2024-08-13', 1),
('2024-08-20', 1),('2024-08-27', 1),('2024-09-02', 1),('2024-09-09', 1),('2024-09-09', 1),
('2024-09-16', 1),('2024-09-23', 1),('2024-10-05', 1),('2024-10-05', 1),('2024-10-13', 1),
('2024-10-13', 1),('2024-10-17', 1),('2024-10-21', 1),('2024-10-21', 1),('2024-10-25', 1),
('2024-10-25', 1),('2024-11-18', 1),('2024-11-18', 1),('2024-11-25', 1),('2024-12-01', 1),
('2024-12-08', 1),('2024-12-15', 1),('2024-12-15', 1),('2024-12-22', 1),('2024-12-29', 1);

insert into igraci(ime, brojodigranih, brojpobjeda) values
('Ivan',94,31),
('AnteS',88,26),
('MarkoK',47,12),
('AnteP',39,9),
('MarkoV',10,4),
('Antonio',49,13);

insert into clanovi(igra, igrac, pobjeda) values
(1, 3, 1), (1, 4, 0), (1, 2, 0), (1, 1, 0),
(2, 3, 1), (2, 2, 0), (2, 1, 0),
(3, 3, 0), (3, 4, 0), (3, 5, 1), (3, 2, 0), (3, 1, 0),
(4, 3, 0), (4, 4, 1), (4, 5, 0), (4, 2, 0), (4, 1, 0),
(5, 6, 0), (5, 2, 0), (5, 1, 1),
(6, 6, 0), (6, 2, 0), (6, 1, 1),
(7, 4, 0), (7, 2, 0), (7, 1, 1),
(8, 4, 0), (8, 2, 0), (8, 1, 1),
(9, 3, 0), (9, 2, 1), (9, 1, 0),
(10, 3, 0), (10, 4, 1), (10, 2, 0), (10, 1, 0),
(11, 6, 0), (11, 5, 0), (11, 2, 1), (11, 1, 0),
(12, 4, 0), (12, 5, 0), (12, 2, 1), (12, 1, 0),
(13, 3, 1), (13, 6, 0), (13, 2, 0), (13, 1, 0),
(14, 3, 0), (14, 6, 0), (14, 2, 1), (14, 1, 0),
(15, 3, 0), (15, 2, 0), (15, 1, 1),
(16, 3, 0), (16, 2, 1), (16, 1, 0),
(17, 3, 0), (17, 2, 1), (17, 1, 0),
(18, 3, 0), (18, 2, 0), (18, 1, 1),
(19, 3, 0), (19, 2, 0), (19, 1, 1),
(20, 3, 0), (20, 4, 0), (20, 2, 0), (20, 1, 1),
(21, 3, 1), (21, 4, 0), (21, 2, 0), (21, 1, 0),
(22, 3, 1), (22, 4, 0), (22, 2, 0), (22, 1, 0),
(23, 4, 0), (23, 6, 0), (23, 5, 1), (23, 2, 0),
(24, 3, 0), (24, 2, 1), (24, 1, 0),
(25, 3, 0), (25, 2, 0), (25, 1, 1),
(26, 3, 0), (26, 2, 1), (26, 1, 0),
(27, 3, 0), (27, 2, 0), (27, 1, 1),
(28, 3, 0), (28, 2, 0), (28, 1, 1),
(29, 3, 0), (29, 2, 0), (29, 1, 1),
(30, 6, 0), (30, 2, 1), (30, 1, 0),
(31, 6, 1), (31, 2, 0), (31, 1, 0),
(32, 6, 1), (32, 2, 0), (32, 1, 0),
(33, 6, 1), (33, 2, 0), (33, 1, 0),
(34, 6, 1), (34, 2, 0), (34, 1, 0),
(35, 4, 0), (35, 2, 1), (35, 1, 0),
(36, 4, 0), (36, 2, 0), (36, 1, 1),
(37, 3, 0), (37, 2, 1), (37, 1, 0),
(38, 3, 1), (38, 2, 0), (38, 1, 0),
(39, 4, 0), (39, 2, 0), (39, 1, 1),
(40, 4, 1), (40, 2, 0), (40, 1, 0),
(41, 6, 0), (41, 2, 0), (41, 1, 1),
(42, 3, 0), (42, 2, 1), (42, 1, 0),
(43, 3, 0), (43, 2, 1), (43, 1, 0),
(44, 3, 1), (44, 6, 0), (44, 2, 0), (44, 1, 0),
(45, 3, 1), (45, 6, 0), (45, 2, 0), (45, 1, 0),
(46, 3, 0), (46, 2, 1), (46, 1, 0),
(47, 6, 1), (47, 2, 0), (47, 1, 0),
(48, 6, 1), (48, 2, 0), (48, 1, 0),
(49, 6, 0), (49, 2, 0), (49, 1, 1),
(50, 6, 1), (50, 2, 0), (50, 1, 0),
(51, 6, 0), (51, 2, 1), (51, 1, 0),
(52, 3, 0), (52, 4, 1), (52, 2, 0), (52, 1, 0),
(53, 3, 0), (53, 6, 0), (53, 2, 0), (53, 1, 1),
(54, 3, 0), (54, 2, 0), (54, 1, 1),
(55, 3, 1), (55, 6, 0), (55, 2, 0), (55, 1, 0),
(56, 3, 0), (56, 6, 0), (56, 2, 0), (56, 1, 1),
(57, 3, 0), (57, 6, 1), (57, 2, 0), (57, 1, 0),
(58, 3, 0), (58, 6, 0), (58, 2, 1), (58, 1, 0),
(59, 6, 1), (59, 2, 0), (59, 1, 0),
(60, 6, 1), (60, 2, 0), (60, 1, 0),
(61, 6, 1), (61, 2, 0), (61, 1, 0),
(62, 4, 0), (62, 2, 1), (62, 1, 0),
(63, 6, 0), (63, 2, 1), (63, 1, 0),
(64, 5, 1), (64, 4, 0), (64, 2, 0), (64, 1, 0),
(65, 5, 0), (65, 4, 0), (65, 2, 1), (65, 1, 0),
(66, 6, 0), (66, 2, 1), (66, 1, 0),
(67, 4, 1), (67, 6, 0), (67, 2, 0), (67, 1, 0),
(68, 6, 0), (68, 1, 1), (68, 2, 0),
(69, 4, 0), (69, 6, 0), (69, 2, 1), (69, 1, 0),
(70, 4, 0), (70, 6, 0), (70, 2, 1), (70, 1, 0),
(71, 4, 0), (71, 2, 0), (71, 1, 1),
(72, 4, 1), (72, 2, 0), (72, 1, 0),
(73, 4, 1), (73, 2, 0), (73, 1, 0),
(74, 4, 0), (74, 2, 1), (74, 1, 0),
(75, 6, 0), (75, 4, 0), (75, 2, 0), (75, 1, 1),
(76, 4, 0), (76, 2, 0), (76, 1, 1),
(77, 4, 1), (77, 2, 0), (77, 1, 0),
(78, 6, 0), (78, 2, 0), (78, 1, 1),
(79, 4, 0), (79, 6, 1), (79, 3, 0), (79, 1, 0),
(80, 4, 0), (80, 6, 1), (80, 3, 0), (80, 1, 0),
(81, 4, 0), (81, 3, 0), (81, 2, 0), (81, 1, 1),
(82, 6, 0), (82, 3, 0), (82, 2, 0), (82, 1, 1),
(83, 6, 0), (83, 3, 0), (83, 2, 1), (83, 1, 0),
(84, 6, 0), (84, 3, 0), (84, 2, 1), (84, 1, 0),
(85, 5, 0), (85, 4, 0), (85, 2, 0), (85, 1, 1),
(86, 4, 0), (86, 6, 0), (86, 3, 0), (86, 1, 1),
(87, 6, 0), (87, 5, 1), (87, 3, 0), (87, 1, 0),
(88, 5, 0), (88, 3, 1), (88, 1, 0),
(89, 3, 1), (89, 6, 0), (89, 1, 0),
(90, 3, 1), (90, 6, 0), (90, 1, 0),
(91, 6, 0), (91, 4, 0), (91, 2, 1), (91, 1, 0),
(92, 6, 0), (92, 4, 0), (92, 2, 0), (92, 1, 1),
(93, 6, 0), (93, 4, 0), (93, 2, 0), (93, 1, 1),
(94, 6, 0), (94, 4, 0), (94, 2, 0), (94, 1, 1),
(95, 4, 1), (95, 2, 0), (95, 1, 0);

insert into rekordi(naziv, igrac) values
('Naviše pobjeda',1),
('Najduži niz',6),
('Najbolji postotak',5);
--('Najviše bodova'),
--('Najveća vojska'),
--('Najduža cesta');

select * from turniri;
select * from igre;
select * from clanovi;
select * from igraci;
select * from rekordi;